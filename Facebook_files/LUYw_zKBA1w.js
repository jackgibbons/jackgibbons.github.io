/*!CK:862560032!*//*1387405862,178127443*/

if (self.CavalryLogger) { CavalryLogger.start_js(["kt\/Aq"]); }

__d("runAfterCSSTransition",["BrowserSupport","DataStore","DOM","Event","Run"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('DataStore'),i=b('DOM'),j=b('Event'),k=b('Run'),l;if(g.hasCSSTransitions()){l=function(m,n){var o=h.get(m,'runAfterCSSTransition');if(o)return o;var p,q=j.listen(m,g.getTransitionEndEvent(),function(event){if(event.getTarget()!==m)return;p&&p();p=null;});if(!n)k.onLeave(function(){q.remove();q=null;p=null;h.remove(m,'runAfterCSSTransition');});var r=i.getID(m);o=function(s){if(!q)return;p=s;};h.set(m,'runAfterCSSTransition',o);return o;};}else l=function(){return function(m){m();};};e.exports=l;});
__d("PageVisibility",["Event","EventEmitter"],function(a,b,c,d,e,f){var g=b('Event'),h=b('EventEmitter'),i=null,j=null;if(typeof document.hidden!=='undefined'){i='hidden';j='visibilitychange';}else if(typeof document.mozHidden!=='undefined'){i='mozHidden';j='mozvisibilitychange';}else if(typeof document.msHidden!=='undefined'){i='msHidden';j='msvisibilitychange';}else if(typeof document.webkitHidden!=='undefined'){i='webkitHidden';j='webkitvisibilitychange';}var k=new h();k.hidden='pageVisibilityHidden';k.visible='pageVisibilityVisible';g.listen(document,j,function(){if(document[i]){k.emit(k.hidden);}else k.emit(k.visible);});e.exports=k;});
__d("getLayoutRoot",["DOMQuery","csx"],function(a,b,c,d,e,f){var g=b('DOMQuery'),h=b('csx'),i=null;function j(){if(!i)i=g.scry(document.body,"._li")[0];return i;}e.exports=j;});
__d("VideoSpotlight",["LayerHideOnBlur","LayerHideOnEscape","ReactLayer","Spotlight","cx","getLayoutRoot","invariant"],function(a,b,c,d,e,f){var g=b('LayerHideOnBlur'),h=b('LayerHideOnEscape'),i=b('ReactLayer'),j=b('Spotlight'),k=b('cx'),l=b('getLayoutRoot'),m=b('invariant'),n=i.createClass({getDefaultEnabledBehaviors:function(){return {hideOnBlur:g,hideOnEscape:h};},createLayer:function(o){m(l());var p=this.enumerateBehaviors(this.props.behaviors),q={addedBehaviors:p,rootClassName:"_5v-m"},r=new j(q,o);r.conditionShow(this.props.shown);r.setInsertParent(l());if(this.props.onHide)r.subscribe('hide',this.props.onHide);return r;},receiveProps:function(o){this.layer.conditionShow(o.shown);}});e.exports=n;});
__d("SpotlightVideoViewer",["ArbiterMixin","DOMDimensions","React","ReactLayeredComponentMixin","SpotlightViewport","Style","VideoSpotlight","cx","getElementPosition","invariant"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('DOMDimensions'),i=b('React'),j=b('ReactLayeredComponentMixin'),k=b('SpotlightViewport'),l=b('Style'),m=b('VideoSpotlight'),n=b('cx'),o=b('getElementPosition'),p=b('invariant'),q=i.createClass({displayName:'SpotlightVideoViewer',mixins:[g,j],componentDidMount:function(){this._popOutVideo();},renderLayers:function(){return {videoLayer:m({onHide:this._popInVideo,shown:true},i.DOM.div({className:"_n3"},k(null)))};},render:function(){return i.DOM.div(null);},_popOutVideo:function(){p(this.props.videoElement);var r=h.getViewportDimensions(),s=o(this.props.videoElement),t=r.width/2-s.width/2,u=r.height/2-s.height/2;l.apply(this.props.videoElement,{left:t+'px',position:'fixed',top:u+'px','z-index':'401'});},_popInVideo:function(){p(this.props.videoElement);l.apply(this.props.videoElement,{left:0,position:'static',top:0,'z-index':'auto'});this.inform('close');}});e.exports=q;});
__d("VideoViewer",["DOM","React","SpotlightVideoViewer","Vector"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('React'),i=b('SpotlightVideoViewer'),j=b('Vector'),k={_viewerContainer:null,bootstrapWithElement:function(l){var m=i({dimensions:new j(300,300),videoElement:l});k.renderViewer(m);},renderViewer:function(l){if(!this._viewerContainer){this._viewerContainer=g.create('div');document.body.appendChild(this._viewerContainer);}h.renderComponent(l,this._viewerContainer);l.subscribeOnce('close',function(){g.empty(this._viewerContainer);}.bind(this));}};e.exports=k;});
__d("VideoPlayerUnitX",["CSS","DOM","Event","Flash","Run","SubscriptionsHandler","VideoAutoplayPlayButton","VideoViewer","clickRefAction","cx","getElementPosition"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('Event'),j=b('Flash'),k=b('Run'),l=b('SubscriptionsHandler'),m=b('VideoAutoplayPlayButton'),n=b('VideoViewer'),o=b('clickRefAction'),p=b('cx'),q=b('getElementPosition'),r='fallback',s='finished',t='loading',u='paused',v='playing',w='ready',x='autoplay',y='none',z='play',aa=10000,ba=100;function ca(da,ea,fa){"use strict";this.$VideoPlayerUnitX0=fa;this.$VideoPlayerUnitX1=0;this.$VideoPlayerUnitX2=ea;this.$VideoPlayerUnitX3=!!this.$VideoPlayerUnitX2.pivotThumbs;this.$VideoPlayerUnitX4=y;this.$VideoPlayerUnitX5=null;this.$VideoPlayerUnitX6=da;this.$VideoPlayerUnitX7=new l();k.onLeave(function(){this.$VideoPlayerUnitX7.release();}.bind(this));this.$VideoPlayerUnitX8=this.$VideoPlayerUnitX0.should_autoplay;this.$VideoPlayerUnitX9(t);if(!j.isAvailable()){this.$VideoPlayerUnitX9(r);}else{if(m.getClicked(fa.flash_id))this.$VideoPlayerUnitX4=z;this.$VideoPlayerUnitXa();m.unregister(this.$VideoPlayerUnitX0.flash_id);this.$VideoPlayerUnitX7.addSubscriptions(i.listen(this.$VideoPlayerUnitX2.play_icon,'click',function(){this.$VideoPlayerUnitXb();}.bind(this)));if(this.$VideoPlayerUnitX3){this.$VideoPlayerUnitX2.pivotThumbs.forEach(function(ga){this.$VideoPlayerUnitX7.addSubscriptions(i.listen(ga,'click',function(){this.$VideoPlayerUnitXc();}.bind(this)));}.bind(this));this.$VideoPlayerUnitX7.addSubscriptions(i.listen(this.$VideoPlayerUnitX2.pivotNextText,'click',function(){this.$VideoPlayerUnitXb();}.bind(this)));this.$VideoPlayerUnitX7.addSubscriptions(i.listen(this.$VideoPlayerUnitX2.pivotReplayText,'click',function(){this.$VideoPlayerUnitXc();}.bind(this)));}}}ca.prototype.$VideoPlayerUnitXb=function(){"use strict";if(this.$VideoPlayerUnitX8){this.$VideoPlayerUnitX8=false;this.$VideoPlayerUnitX5.unmuteVideo();}this.play(false);this.$VideoPlayerUnitXd();};ca.prototype.$VideoPlayerUnitXc=function(){"use strict";this.$VideoPlayerUnitXe(this.$VideoPlayerUnitXf());this.play(false);};ca.prototype.getDOMPosition=function(){"use strict";return q(this.$VideoPlayerUnitX2.video);};ca.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerUnitX0.should_autoplay;};ca.prototype.handleFlashEvent=function(da){"use strict";switch(da){case 'flash/beginPlayback':this.$VideoPlayerUnitXg();break;case 'flash/clickForTracking':this.$VideoPlayerUnitXd();break;case 'flash/expandVideo':this.$VideoPlayerUnitXh();break;case 'flash/finishPlayback':this.$VideoPlayerUnitXi();break;case 'flash/manuallyPausePlayback':this.$VideoPlayerUnitXj();break;case 'flash/ready':this.$VideoPlayerUnitXk();break;}};ca.prototype.play=function(da){"use strict";if(this.$VideoPlayerUnitXl===t){this.$VideoPlayerUnitX4=da?x:z;}else this.$VideoPlayerUnitX5.playVideo(da);};ca.prototype.pause=function(da){"use strict";if(this.$VideoPlayerUnitXl===t){this.$VideoPlayerUnitX4=y;}else if(this.$VideoPlayerUnitXl===v){this.$VideoPlayerUnitX5.pauseVideo(da);this.$VideoPlayerUnitX9(u);}};ca.prototype.$VideoPlayerUnitXa=function(){"use strict";setTimeout(function(){if(this.$VideoPlayerUnitXl===t)this.$VideoPlayerUnitX9(r);}.bind(this),aa);};ca.prototype.$VideoPlayerUnitXd=function(){"use strict";o('click',this.$VideoPlayerUnitX2.video,null,'FORCE');};ca.prototype.$VideoPlayerUnitXg=function(){"use strict";this.$VideoPlayerUnitX9(v);};ca.prototype.$VideoPlayerUnitXh=function(){"use strict";n.bootstrapWithElement(this.$VideoPlayerUnitX2.video_container);};ca.prototype.$VideoPlayerUnitXi=function(){"use strict";if(this.$VideoPlayerUnitX3)this.$VideoPlayerUnitXe(this.$VideoPlayerUnitXm());this.$VideoPlayerUnitX0.should_autoplay=false;this.$VideoPlayerUnitX9(s);};ca.prototype.$VideoPlayerUnitXj=function(){"use strict";this.$VideoPlayerUnitX9(u);this.$VideoPlayerUnitX0.should_autoplay=false;};ca.prototype.$VideoPlayerUnitXk=function(){"use strict";var da=h.scry(this.$VideoPlayerUnitX2.video,'embed');if(!da.length)da=h.scry(this.$VideoPlayerUnitX2.video,'object');this.$VideoPlayerUnitX5=da[0];this.$VideoPlayerUnitX9(w);if(this.$VideoPlayerUnitX4!=y)this.play(this.$VideoPlayerUnitX4===x);};ca.prototype.$VideoPlayerUnitX9=function(da){"use strict";this.$VideoPlayerUnitXl=da;this.$VideoPlayerUnitXn();};ca.prototype.$VideoPlayerUnitXn=function(){"use strict";this.$VideoPlayerUnitXo();this.$VideoPlayerUnitXp();this.$VideoPlayerUnitXq();this.$VideoPlayerUnitXr();this.$VideoPlayerUnitXs();this.$VideoPlayerUnitXt();};ca.prototype.$VideoPlayerUnitXo=function(){"use strict";if(this.$VideoPlayerUnitXl===r){var da=this.$VideoPlayerUnitX2;h.empty(da.root);h.appendContent(da.root,da.fallback_link);h.appendContent(da.fallback_link,da.thumbnails[this.$VideoPlayerUnitX1]);h.appendContent(da.fallback_link,da.play_icon);}};ca.prototype.$VideoPlayerUnitXr=function(){"use strict";if(this.$VideoPlayerUnitXl===r||this.$VideoPlayerUnitXl===w||this.$VideoPlayerUnitXl===u||(this.$VideoPlayerUnitXl===s&&!this.$VideoPlayerUnitX3)){g.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");}else if(this.$VideoPlayerUnitXl!==s||!this.$VideoPlayerUnitX3){g.removeClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");g.removeClass(this.$VideoPlayerUnitX2.play_icon,"_5vov");}};ca.prototype.$VideoPlayerUnitXs=function(){"use strict";if(this.$VideoPlayerUnitXl===t){g.show(this.$VideoPlayerUnitX2.spinner);}else g.hide(this.$VideoPlayerUnitX2.spinner);};ca.prototype.$VideoPlayerUnitXt=function(){"use strict";if(this.$VideoPlayerUnitXl===v||this.$VideoPlayerUnitXl===u){this.$VideoPlayerUnitX2.thumbnails.forEach(function(da){g.hide(da);});}else g.show(this.$VideoPlayerUnitX2.thumbnails[this.$VideoPlayerUnitX1]);};ca.prototype.$VideoPlayerUnitXq=function(){"use strict";if(!this.$VideoPlayerUnitX3)return;var da=this.$VideoPlayerUnitX2.pivotThumbs;da.forEach(function(fa){g.removeClass(fa,"_5vlu");g.removeClass(fa,"_5vou");g.addClass(fa,"_5vot");});g.removeClass(this.$VideoPlayerUnitX2.pivotReplayText,"_5vm5");g.removeClass(this.$VideoPlayerUnitX2.pivotNextText,"_5vm5");if(this.$VideoPlayerUnitXl===s){var ea=da[this.$VideoPlayerUnitXf()];g.removeClass(ea,"_5vot");g.addClass(ea,"_5vlu");setTimeout(function(){g.addClass(ea,"_5vou");g.addClass(this.$VideoPlayerUnitX2.pivotReplayText,"_5vm5");g.addClass(this.$VideoPlayerUnitX2.pivotNextText,"_5vm5");g.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vov");}.bind(this),ba);}};ca.prototype.$VideoPlayerUnitXp=function(){"use strict";if(!this.$VideoPlayerUnitX3)return;var da=this.$VideoPlayerUnitX2.story_footers;for(var ea=0;ea<da.length;ea++)g.conditionShow(da[ea],ea===this.$VideoPlayerUnitX1);};ca.prototype.$VideoPlayerUnitXm=function(){"use strict";var da=this.$VideoPlayerUnitX2.pivotThumbs.length;return (this.$VideoPlayerUnitX1+1)%da;};ca.prototype.$VideoPlayerUnitXf=function(){"use strict";var da=this.$VideoPlayerUnitX2.pivotThumbs.length;return (this.$VideoPlayerUnitX1-1+da)%da;};ca.prototype.$VideoPlayerUnitXe=function(da){"use strict";this.$VideoPlayerUnitX5.switchVideo(da);this.$VideoPlayerUnitX1=da;this.$VideoPlayerUnitXn();};e.exports=ca;});
__d("VideoAutoplayControllerX",["Arbiter","DOMDimensions","Event","PageVisibility","Run","SubscriptionsHandler","VideoPlayerUnitX","throttle"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOMDimensions'),i=b('Event'),j=b('PageVisibility'),k=b('Run'),l=b('SubscriptionsHandler'),m=b('VideoPlayerUnitX'),n=b('throttle'),o=null,p=500;function q(){"use strict";this.$VideoAutoplayControllerX0=null;this.$VideoAutoplayControllerX1=new l();this.$VideoAutoplayControllerX2={};g.subscribe(['flash/ready','flash/beginPlayback','flash/clickForTracking','flash/expandVideo','flash/finishPlayback','flash/hitBoxClicked','flash/manuallyPausePlayback'],this.$VideoAutoplayControllerX3.bind(this));var r=n(this.$VideoAutoplayControllerX4.bind(this),p);this.$VideoAutoplayControllerX1.addSubscriptions(i.listen(window,'scroll',r),i.listen(window,'resize',r),j.addListener(j.hidden,this.$VideoAutoplayControllerX5.bind(this)),j.addListener(j.visible,this.$VideoAutoplayControllerX6.bind(this)));k.onLeave(function(){return this.$VideoAutoplayControllerX1.release();}.bind(this));}q.initVideoUnit=function(r,s,t){"use strict";if(o==null)o=new q();var u=new m(r,s,t);o.$VideoAutoplayControllerX2[t.flash_id]=u;if(o.$VideoAutoplayControllerX7(u))o.$VideoAutoplayControllerX4();};q.prototype.$VideoAutoplayControllerX8=function(){"use strict";var r=[];for(var s in this.$VideoAutoplayControllerX2){var t=this.$VideoAutoplayControllerX2[s];if(this.$VideoAutoplayControllerX7(t))r.push(t);}return r;};q.prototype.$VideoAutoplayControllerX7=function(r){"use strict";var s=h.getViewportDimensions().height,t=r.getDOMPosition();if(t.y>0&&t.y+t.height<s)return true;return false;};q.prototype.$VideoAutoplayControllerX3=function(r,s){"use strict";var t=this.$VideoAutoplayControllerX2[s.divID]?this.$VideoAutoplayControllerX2[s.divID]:null;if(t)t.handleFlashEvent(r);};q.prototype.$VideoAutoplayControllerX5=function(){"use strict";this.$VideoAutoplayControllerX9();};q.prototype.$VideoAutoplayControllerX6=function(){"use strict";this.$VideoAutoplayControllerX4();};q.prototype.$VideoAutoplayControllerX9=function(){"use strict";if(this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX0.pause(true);this.$VideoAutoplayControllerX0=null;}};q.prototype.$VideoAutoplayControllerX4=function(){"use strict";var r=this.$VideoAutoplayControllerX8(),s=r.length,t=null;if(s==1){t=r[0];t=t.isAutoplayable()?t:null;}else if(s>1){var u=h.getViewportDimensions().height/2;r.forEach(function(v){if(!v.isAutoplayable())return;var w=v.getDOMPosition(),x=w.y+w.height/2,y=Math.abs(x-u);v.playPriority=y;if(!t||v.playPriority<t.playPriority)t=v;});}if(this.$VideoAutoplayControllerX0){if(t!=this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX9();this.$VideoAutoplayControllerX0=t;if(this.$VideoAutoplayControllerX0)this.$VideoAutoplayControllerX0.play(true);}}else if(t){this.$VideoAutoplayControllerX0=t;this.$VideoAutoplayControllerX0.play(true);}};e.exports=q;});